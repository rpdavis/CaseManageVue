/* Table-related styles for student page */
.students-table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  overflow: hidden;
  font-size: 0.95rem;
}

.students-table thead {
  background: #dfe7f3;
  color: #111;
  font-weight: 600;
}

.students-table th,
.students-table td {
  padding: 0.9rem .4rem;
  text-align: left;
  vertical-align: top;
  border-bottom: 1px solid #d1d1d1;
}

.student-name {
  font-weight: 700;
  color: #003366;
  font-size: 1.2rem;
}

.students-table tbody tr:nth-child(even) {
  background: #f8fafd;
}

.students-table a {
  color: #005bb5;
  text-decoration: none;
}

.students-table a:hover {
  text-decoration: underline;
}

.edit-btn, .email-btn, .teacher-feedback-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.1rem;
  padding: 0.3rem;
  margin: 0.1rem;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.edit-btn:hover, .email-btn:hover, .teacher-feedback-btn:hover {
  background-color: #f0f0f0;
}

.schedule-list {
  max-height: 9.6em;
  
  transition: max-height 0.3s ease;
}

.schedule-list.expanded {
  max-height: none;
}

.expand-toggle {
  text-align: center;
  cursor: pointer;
  color: #005bb5;
  font-size: 1.2em;
  margin-top: 0.3em;
  user-select: none;
}

.bullet-list {
  list-style: disc !important;
  background: linear-gradient(to top, #f4f6f9 100%, transparent);
}

.bullet-list ul {
  list-style: disc !important;
  padding-left: 1.2rem;
  margin: 0;
}

.bullet-list li {
  line-height: 1.3;
  margin-bottom: 0.2rem;
}

.flag-overlay {
  margin-top: 0.5rem;
}

.flag-overlay > div {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  margin: 0.1rem;
  border-radius: 3px;
  font-size: 0.8rem;
  font-weight: 600;
}

.flag-critical { background: #ffebee; color: #c62828; }
.flag-high { background: #fff3e0; color: #ef6c00; }
.flag-medium { background: #fff8e1; color: #f57f17; }
.flag-mid { background: #f9fbe7; color: #827717; }
.flag-low { background: #f1f8e9; color: #558b2f; }
.flag-prep { background: #e8f5e8; color: #2e7d32; }

.badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  margin: 0.1rem;
  border-radius: 3px;
  font-size: 0.8rem;
  font-weight: 600;
  border-left: 3px solid;
}

.badge-meeting.date-set {
  background: #e3f2fd;
  color: #1565c0;
  border-left-color: #1976d2;
}

.badge-reeval {
  background: #fff3e0;
  color: #ef6c00;
  border-left-color: #ff9800;
}

.meeting-date {
  font-weight: 600;
  color: #666;
}

.meeting-date.date-set {
  color: #1976d2;
  font-weight: 700;
}

.std-info-subheading {
  font-size: 0.85rem;
  color: #666;
  margin-top: 0.3rem;
}

.service-pill {
  background: #e3f2fd;
  color: #1565c0;
  padding: 0.1rem 0.3rem;
  border-radius: 3px;
  font-size: 0.8rem;
  font-weight: 600;
}

.docs-item a {
  display: block;
  margin-bottom: 0.2rem;
  font-size: 0.95em;
  color: #1976d2;
  text-decoration: none;
  padding: 0.15em 0.4em;
  border-radius: 4px;
  transition: background 0.15s, color 0.15s;
}
.docs-item a:hover {
  background: #e3eaf6;
  color: #1251a3;
}

.students-table th:nth-child(1) { width: 13%; }
.students-table th:nth-child(2) { width: 10%; }

.students-table th:nth-child(3) { width: 11%; }
.students-table th:nth-child(4),
.students-table th:nth-child(5) { width: 21%; }
.students-table th:nth-child(6) { width: 8%; }
.students-table th:nth-child(7) { width: 4%; }

.instruction-cell {
  background: #f6f8fb;
  border-radius: 0.25rem;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.04);
  border-left: 6px solid #e6ecf6;
  padding-top: 1.2rem;
  position: relative;
}
.instruction-cell .bullet-list {
  background: transparent;
  padding: 0.2rem 0 0.2rem 0;
  border-radius: 0.25rem;
  box-shadow: none;
}
.instruction-cell .flag-overlay {
  position: absolute;
  top: 0.2rem;
  left: 0.2rem;
  width: calc(100% - 0.4rem);
  z-index: 2;
  margin-top: 0;
}
.instruction-cell .flag-overlay > div,
.instruction-cell .flag-overlay {
  background: #ffeeba;
  color: #333;
  font-size: 0.75rem;
  padding: 0 6px;
  border-radius: 3px;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0.1rem 0.4rem;
  width: 90%;
}
.flag-preferential-seating {
  background: #babfff;
}
.flag-separate-setting {
  background: #ffeeba;
}

/* Remove bullets from services and schedule lists in table */
.students-table td .bullet-list ul,
.students-table td .schedule-list ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}
.students-table td .bullet-list li,
.students-table td .schedule-list li {
  position: relative;
  padding-left: 0;
  margin-left: 0;
}

/* --- Actions column --- */
.students-table td:last-child {
  text-align: left;
  vertical-align: middle;
  min-width: 120px;
  padding: 0.7rem 0.4rem;
}
.edit-btn, .email-btn, .teacher-feedback-btn {
  background: #f8fafc;
  border: 1px solid #bfc7d1;
  color: #1976d2;
  font-size: 1.05rem;
  padding: 0.3rem 0.7rem;
  margin: 0.1rem 0.2rem;
  border-radius: 5px;
  transition: background 0.15s, color 0.15s, border 0.15s;
  box-shadow: none;
}
.edit-btn:hover, .email-btn:hover, .teacher-feedback-btn:hover {
  background: #e3eaf6;
  color: #1251a3;
  border-color: #1976d2;
}

/* --- Services column --- */
.students-table td:nth-child(2) {
  vertical-align: top;
  padding: 0.9rem 0.4rem;
  font-size: 0.98rem;
}
.service-pill {
  background: #e3eaf6;
  color: #1976d2;
  margin: 0.1em 0.3em 0.1em 0;
  font-size: 0.95em;
  display: inline-block;
  white-space: nowrap;
  font-weight: 500;
  border: 1px solid #bfc7d1;
  transition: background 0.15s, color 0.15s, border 0.15s;
}
.service-pill:hover {
  background: #d0e3fa;
  color: #1251a3;
  border-color: #1976d2;
}

/* Restore bullets for accommodation lists */
.students-table .bullet-list ul {
  list-style: disc !important;
  padding-left: 1.2em !important;
  margin: 0;
}
.students-table .bullet-list li {
  position: relative;
  padding-left: 0;
  margin-left: 0;
}

/* Print Styles */
@media print {
  /* Hide everything except the table and user info */
  body * {
    visibility: hidden !important;
  }

  /* Show only the table and user info */
  .students-table,
  .students-table *,
  .header .user-info,
  .header .user-info *,
  .view-container,
  .view-container *,
  .group-section,
  .group-section *,
  .group-header,
  .group-header * {
    visibility: visible !important;
  }

  /* Position the printable content */
  .students-table {
    position: relative !important;
    left: 0 !important;
    top: 0 !important;
    width: 100% !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    margin-bottom: 15px !important;
  }

  /* When not in group view, position table absolutely */
  .content > .students-table {
    position: absolute !important;
    top: 40px !important;
  }

  /* Show user info at the top */
  .header .user-info {
    position: absolute !important;
    top: 10px !important;
    right: 20px !important;
    font-size: 14px !important;
    color: #333 !important;
    font-weight: 600 !important;
    visibility: visible !important;
  }

  /* Hide docs and actions columns */
  .students-table th:nth-child(6),
  .students-table td:nth-child(6),
  .students-table th:nth-child(7),
  .students-table td:nth-child(7) {
    display: none !important;
  }

  /* Table styling for print */
  .students-table {
    border-collapse: collapse !important;
    font-size: 11px !important;
    width: 95% !important;
    max-width: 95% !important;
    table-layout: fixed !important;
  }

  .students-table th,
  .students-table td {
    border: 1px solid #ccc !important;
    padding: 6px 4px !important;
    text-align: left !important;
    vertical-align: top !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  .students-table thead {
    background: #f0f0f0 !important;
    color: #333 !important;
  }

  .students-table tbody tr:nth-child(even) {
    background: #f9f9f9 !important;
  }

  /* Hide non-essential elements */
  .student-dates,
  .print-btn,
  .edit-btn,
  .email-btn,
  .teacher-feedback-btn,
  .expand-toggle,
  .flag-overlay,
  .badge,
  .docs-item,
  .header h1,
  .header-actions,
  .controls,
  .filters,
  .btn,
  button {
    display: none !important;
  }

  /* Simplify student info for print */
  .student-name {
    font-size: 14px !important;
    font-weight: 600 !important;
    color: #333 !important;
  }

  .std-info-subheading {
    font-size: 11px !important;
    color: #666 !important;
    margin-top: 2px !important;
  }

  /* Adjust column widths for print (without docs/actions) */
  .students-table th:nth-child(1),
  .students-table td:nth-child(1) {
    width: 22% !important;
  }

  .students-table th:nth-child(2),
  .students-table td:nth-child(2) {
    width: 13% !important;
  }

  .students-table th:nth-child(3),
  .students-table td:nth-child(3) {
    width: 18% !important;
  }

  .students-table th:nth-child(4),
  .students-table td:nth-child(4) {
    width: 18% !important;
  }

  .students-table th:nth-child(5),
  .students-table td:nth-child(5) {
    width: 18% !important;
  }

  /* Testing view specific print styles */
  .testing-view th:nth-child(3),
  .testing-view td:nth-child(3) {
    width: 45% !important;
  }

  /* Simplify bullet lists for print */
  .bullet-list {
    background: none !important;
    padding: 0 !important;
  }

  .bullet-list ul {
    padding-left: 15px !important;
    margin: 0 !important;
  }

  .bullet-list li {
    line-height: 1.2 !important;
    margin-bottom: 1px !important;
  }

  /* Simplify schedule for print */
  .schedule-list {
    max-height: none !important;
  }

  .schedule-list ul {
    padding-left: 10px !important;
    margin: 0 !important;
  }

  .schedule-list li {
    line-height: 1.2 !important;
    margin-bottom: 1px !important;
  }

  /* Service pills for print */
  .service-pill {
    background: #e0e0e0 !important;
    color: #333 !important;
    padding: 1px 3px !important;
    border-radius: 2px !important;
    font-size: 10px !important;
  }

  /* Remove shadows and decorative elements */
  .instruction-cell {
    background: none !important;
    border-left: none !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  /* Page setup */
  @page {
    margin: 1in;
    size: letter;
  }

  /* Ensure text is readable */
  * {
    color: #000 !important;
    text-shadow: none !important;
  }

  /* Group section styling for print */
  .view-container {
    position: absolute !important;
    left: 0 !important;
    top: 40px !important;
    width: 100% !important;
  }

  .group-section {
    margin-bottom: 20px !important;
    page-break-inside: avoid !important;
  }

  .group-header {
    font-size: 16px !important;
    font-weight: 700 !important;
    color: #333 !important;
    margin: 0 0 10px 0 !important;
    padding: 8px 0 !important;
    border-bottom: 2px solid #333 !important;
    background: #f0f0f0 !important;
    padding-left: 10px !important;
  }
}
